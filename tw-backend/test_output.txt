=== RUN   TestHandleFace_Direction
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='face'
--- PASS: TestHandleFace_Direction (0.00s)
=== RUN   TestHandleFace_Status
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='face', Action='face'
--- PASS: TestHandleFace_Status (0.00s)
=== RUN   TestHandleFace_InvalidDirection
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='face'
--- PASS: TestHandleFace_InvalidDirection (0.00s)
=== RUN   TestHandleFace_ImplicitText
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='face north', Action='face'
--- PASS: TestHandleFace_ImplicitText (0.00s)
=== RUN   TestHandleLobby_Success
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='lobby'
--- PASS: TestHandleLobby_Success (0.00s)
=== RUN   TestHandleLobby_AlreadyInLobby
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='lobby'
--- PASS: TestHandleLobby_AlreadyInLobby (0.00s)
=== RUN   TestHandleLobby_WatcherRemoval
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='lobby'
--- PASS: TestHandleLobby_WatcherRemoval (0.00s)
=== RUN   TestHandleWatcher
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='watcher'
--- PASS: TestHandleWatcher (0.00s)
=== RUN   TestCardinalDirections
=== RUN   TestCardinalDirections/north
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='north'
=== RUN   TestCardinalDirections/n
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='n'
=== RUN   TestCardinalDirections/east
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='east'
=== RUN   TestCardinalDirections/e
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='e'
=== RUN   TestCardinalDirections/south
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='south'
=== RUN   TestCardinalDirections/s
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='s'
=== RUN   TestCardinalDirections/west
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='west'
=== RUN   TestCardinalDirections/w
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='w'
--- PASS: TestCardinalDirections (0.00s)
    --- PASS: TestCardinalDirections/north (0.00s)
    --- PASS: TestCardinalDirections/n (0.00s)
    --- PASS: TestCardinalDirections/east (0.00s)
    --- PASS: TestCardinalDirections/e (0.00s)
    --- PASS: TestCardinalDirections/south (0.00s)
    --- PASS: TestCardinalDirections/s (0.00s)
    --- PASS: TestCardinalDirections/west (0.00s)
    --- PASS: TestCardinalDirections/w (0.00s)
=== RUN   TestHandleOpen_Door
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='open'
--- PASS: TestHandleOpen_Door (0.00s)
=== RUN   TestHandleOpen_Container
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='open'
--- PASS: TestHandleOpen_Container (0.00s)
=== RUN   TestHandleOpen_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='open'
--- PASS: TestHandleOpen_NoTarget (0.00s)
=== RUN   TestHandleEnter_Portal
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='enter'
--- PASS: TestHandleEnter_Portal (0.00s)
=== RUN   TestHandleEnter_Doorway
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='enter'
--- PASS: TestHandleEnter_Doorway (0.00s)
=== RUN   TestHandleEnter_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='enter'
    processor_test.go:408: 
        	Error Trace:	/Users/walker/git/thousand-worlds/tw-backend/internal/game/processor/processor_test.go:408
        	Error:      	An error is expected but got nil.
        	Test:       	TestHandleEnter_NoTarget
--- FAIL: TestHandleEnter_NoTarget (0.00s)
=== RUN   TestHandleSay_BroadcastsMessage
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='say'
--- PASS: TestHandleSay_BroadcastsMessage (0.00s)
=== RUN   TestHandleSay_NoMessage
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='say'
--- PASS: TestHandleSay_NoMessage (0.00s)
=== RUN   TestHandleWhisper_ToNearbyPlayer
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='whisper'
--- PASS: TestHandleWhisper_ToNearbyPlayer (0.00s)
=== RUN   TestHandleWhisper_NoRecipient
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='whisper'
--- PASS: TestHandleWhisper_NoRecipient (0.00s)
=== RUN   TestHandleWhisper_NoMessage
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='whisper'
--- PASS: TestHandleWhisper_NoMessage (0.00s)
=== RUN   TestHandleTell_OnlinePlayer
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='tell'
--- PASS: TestHandleTell_OnlinePlayer (0.00s)
=== RUN   TestHandleTell_NoRecipient
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='tell'
--- PASS: TestHandleTell_NoRecipient (0.00s)
=== RUN   TestHandleTell_NoMessage
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='tell'
--- PASS: TestHandleTell_NoMessage (0.00s)
=== RUN   TestHandleWho_ListsPlayers
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='who'
--- PASS: TestHandleWho_ListsPlayers (0.00s)
=== RUN   TestHandleWho_NoHub
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='who'
--- PASS: TestHandleWho_NoHub (0.00s)
=== RUN   TestHandleHelp
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='help'
    processor_test.go:600: 
        	Error Trace:	/Users/walker/git/thousand-worlds/tw-backend/internal/game/processor/processor_test.go:600
        	Error:      	"\nAvailable Commands:\n  Movement:\n    n, ne, e, se, s, sw, w, nw - Move in cardinal directions\n    up, down                   - Move vertically\n  \n  Interaction:\n    open <door/container>      - Open doors or containers\n    enter <portal/doorway>     - Enter through portals or doorways\n    look [target]              - Look around or examine something\n  \n  Communication:\n    say <message>              - Speak to nearby players\n    whisper <player> <message> - Whisper to nearby player (5m range)\n    tell <player> <message>    - Direct message to any player\n  \n  Social:\n    who                        - List online players\n  \n  Actions:\n    take <item>                - Pick up an item\n    drop <item>                - Drop an item\n    inventory                  - View your inventory\n    attack <target>            - Attack a target\n    talk <target>              - Talk to an NPC\n    craft <item>               - Craft an item\n    use <item>                 - Use an item\n" does not contain "Lobby Commands"
        	Test:       	TestHandleHelp
--- FAIL: TestHandleHelp (0.00s)
=== RUN   TestHandleLook_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='look'
--- PASS: TestHandleLook_NoTarget (0.00s)
=== RUN   TestHandleLook_WithTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='look'
--- PASS: TestHandleLook_WithTarget (0.00s)
=== RUN   TestHandleTake
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='take'
--- PASS: TestHandleTake (0.00s)
=== RUN   TestHandleTake_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='take'
--- PASS: TestHandleTake_NoTarget (0.00s)
=== RUN   TestHandleDrop
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='drop'
--- PASS: TestHandleDrop (0.00s)
=== RUN   TestHandleDrop_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='drop'
--- PASS: TestHandleDrop_NoTarget (0.00s)
=== RUN   TestHandleAttack
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='attack'
    processor_test.go:704: 
        	Error Trace:	/Users/walker/git/thousand-worlds/tw-backend/internal/game/processor/processor_test.go:704
        	Error:      	"You attack <span class=\"text-yellow-400 font-bold\">goblin</span> for <span class=\"text-orange-500 font-bold\">10</span> damage!" does not contain "attack goblin"
        	Test:       	TestHandleAttack
--- FAIL: TestHandleAttack (0.00s)
=== RUN   TestHandleAttack_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='attack'
--- PASS: TestHandleAttack_NoTarget (0.00s)
=== RUN   TestHandleTalk
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='talk'
--- PASS: TestHandleTalk (0.00s)
=== RUN   TestHandleTalk_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='talk'
--- PASS: TestHandleTalk_NoTarget (0.00s)
=== RUN   TestHandleInventory
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='inventory'
--- PASS: TestHandleInventory (0.00s)
=== RUN   TestHandleCraft
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='craft'
--- PASS: TestHandleCraft (0.00s)
=== RUN   TestHandleCraft_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='craft'
--- PASS: TestHandleCraft_NoTarget (0.00s)
=== RUN   TestHandleUse
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='use'
--- PASS: TestHandleUse (0.00s)
=== RUN   TestHandleUse_NoTarget
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='use'
--- PASS: TestHandleUse_NoTarget (0.00s)
=== RUN   TestInvalidCommand
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='invalid_action'
--- PASS: TestInvalidCommand (0.00s)
=== RUN   TestNoCharacter
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='north'
--- PASS: TestNoCharacter (0.00s)
=== RUN   TestHandleReply_NoMessage
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='reply'
--- PASS: TestHandleReply_NoMessage (0.00s)
=== RUN   TestHandleReply_NoPreviousTell
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='reply'
--- PASS: TestHandleReply_NoPreviousTell (0.00s)
=== RUN   TestHandleReply_SenderOffline
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='reply'
--- PASS: TestHandleReply_SenderOffline (0.00s)
=== RUN   TestHandleReply_ThreadSafe
--- PASS: TestHandleReply_ThreadSafe (0.00s)
=== RUN   TestHandleWeather_GodMode
2025/12/10 08:11:09 [PROCESSOR] ProcessCommand called with Text='', Action='weather'
--- PASS: TestHandleWeather_GodMode (0.00s)
FAIL
FAIL	tw-backend/internal/game/processor	0.183s
FAIL
