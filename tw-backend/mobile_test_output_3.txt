=== RUN   TestMobileSDKIntegrationSuite
    mobile_integration_test.go:43: Warning: migration 000001_create_worlds_table.up.sql: pq: relation "idx_worlds_created_at" already exists
    mobile_integration_test.go:43: Warning: migration 000013_create_auth_tables.up.sql: pq: relation "idx_users_email" already exists
    mobile_integration_test.go:43: Warning: migration 000014_create_interview_tables.up.sql: pq: relation "idx_world_configs_interview" already exists
    mobile_integration_test.go:43: Warning: migration 000016_add_character_description_occupation.up.sql: pq: column "description" of relation "characters" already exists
    mobile_integration_test.go:43: Warning: migration 000019_add_username_to_users.up.sql: pq: column "username" of relation "users" already exists
    mobile_integration_test.go:43: Warning: migration 000020_add_world_name_to_configurations.up.sql: pq: column "world_name" of relation "world_configurations" already exists
=== RUN   TestMobileSDKIntegrationSuite/TestCompleteOnboardingFlow
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: GET /api/game/characters from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:30 [AUTH] Request: POST /api/game/join from 127.0.0.1:60627
2025/12/07 15:53:30 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzg4NDg3OWItMTEyOS00MTA3LWE4MGYtZWM3OTcxN2JlODJmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjEwLCJpYXQiOjE3NjUxNDA4MTB9.9r4-pbIZSREGqrD-VNlxJWmz8Yq6gXTQrc-p7xXAbl8] Content-Length:[55] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:30 [AUTH] Found Authorization header
2025/12/07 15:53:30 [AUTH] Token validated for user 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] AuthMiddleware: set userID in context: 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 [DEBUG] JoinGame: retrieved userID from context: 3884879b-1129-4107-a80f-ec79717be82f
2025/12/07 15:53:30 http: panic serving 127.0.0.1:60627: runtime error: invalid memory address or nil pointer dereference
goroutine 11 [running]:
net/http.(*conn).serve.func1()
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:1943 +0xb4
panic({0x104fb76e0?, 0x1057ac1f0?})
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/runtime/panic.go:783 +0x120
mud-platform-backend/internal/lobby.(*LookService).DescribeRoom(0x140000e46c0, {0x1051121c0, 0x140002601e0}, {0xb3, 0xa5, 0xf5, 0xd3, 0x14, 0x19, 0x4d, ...})
	/Users/walker/git/thousand-worlds/mud-platform-backend/internal/lobby/look_service.go:155 +0xec
mud-platform-backend/cmd/game-server/api.(*SessionHandler).JoinGame(0x140000103a8, {0x10510fe90, 0x140002583c0}, 0x140002272c0)
	/Users/walker/git/thousand-worlds/mud-platform-backend/cmd/game-server/api/session.go:255 +0x544
net/http.HandlerFunc.ServeHTTP(0x14000227180?, {0x10510fe90?, 0x140002583c0?}, 0x105102990?)
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:2322 +0x38
mud-platform-backend/internal/mobile_test.(*MobileSDKIntegrationSuite).SetupSuite.func1.AuthMiddleware.1.1({0x10510fe90, 0x140002583c0}, 0x14000227180)
	/Users/walker/git/thousand-worlds/mud-platform-backend/cmd/game-server/api/middleware.go:67 +0x40c
net/http.HandlerFunc.ServeHTTP(0x140000e2d20?, {0x10510fe90?, 0x140002583c0?}, 0x0?)
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:2322 +0x38
github.com/go-chi/chi/v5.(*ChainHandler).ServeHTTP(0x104fe1060?, {0x10510fe90?, 0x140002583c0?}, 0x140002c2525?)
	/Users/walker/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/chain.go:31 +0x2c
github.com/go-chi/chi/v5.(*Mux).routeHTTP(0x14000034a80, {0x10510fe90, 0x140002583c0}, 0x14000227180)
	/Users/walker/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:444 +0x234
net/http.HandlerFunc.ServeHTTP(0x1051121f8?, {0x10510fe90?, 0x140002583c0?}, 0x1057ad150?)
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:2322 +0x38
github.com/go-chi/chi/v5.(*Mux).ServeHTTP(0x14000034a80, {0x10510fe90, 0x140002583c0}, 0x14000227040)
	/Users/walker/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.10/mux.go:90 +0x250
net/http.serverHandler.ServeHTTP({0x10510c948?}, {0x10510fe90?, 0x140002583c0?}, 0x1?)
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:3340 +0xb0
net/http.(*conn).serve(0x1400030a750, {0x1051121c0, 0x14000220ae0})
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:2109 +0x528
created by net/http.(*Server).Serve in goroutine 7
	/opt/homebrew/Cellar/go/1.25.4/libexec/src/net/http/server.go:3493 +0x384
    mobile_integration_test.go:184: 
        	Error Trace:	/Users/walker/git/thousand-worlds/mud-platform-backend/internal/mobile/mobile_integration_test.go:184
        	            				/opt/homebrew/Cellar/go/1.25.4/libexec/src/runtime/asm_arm64.s:1268
        	Error:      	Received unexpected error:
        	            	request failed: Post "http://127.0.0.1:60626/api/game/join": EOF
        	Test:       	TestMobileSDKIntegrationSuite/TestCompleteOnboardingFlow
=== RUN   TestMobileSDKIntegrationSuite/TestConcurrentClientRequests
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60629
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMjJhZTgxNmMtN2I5ZS00NzE4LThkNTMtN2JmZWExYTM3YTMzIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.lP5Gh_HK7sMj2oYXqNBP2ShP9bu9sT9eHSAssRtMjwU] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 22ae816c-7b9e-4718-8d53-7bfea1a37a33
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 22ae816c-7b9e-4718-8d53-7bfea1a37a33
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60629
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMjJhZTgxNmMtN2I5ZS00NzE4LThkNTMtN2JmZWExYTM3YTMzIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.lP5Gh_HK7sMj2oYXqNBP2ShP9bu9sT9eHSAssRtMjwU] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 22ae816c-7b9e-4718-8d53-7bfea1a37a33
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 22ae816c-7b9e-4718-8d53-7bfea1a37a33
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60629
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMjJhZTgxNmMtN2I5ZS00NzE4LThkNTMtN2JmZWExYTM3YTMzIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.lP5Gh_HK7sMj2oYXqNBP2ShP9bu9sT9eHSAssRtMjwU] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 22ae816c-7b9e-4718-8d53-7bfea1a37a33
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 22ae816c-7b9e-4718-8d53-7bfea1a37a33
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNGYzZTRkMTUtYWY4Ni00NmYxLTg2OGEtMDA4MjA4YjQ0YTQ3IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.dzJOd3aGn-V1y7cm7fbRWoJw6yqvK2AiQM1wqcVmxOk] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 4f3e4d15-af86-46f1-868a-008208b44a47
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 4f3e4d15-af86-46f1-868a-008208b44a47
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTljMjdkM2UtNGQ4MS00NzQwLTgwMWItNWQyYjM2YWVlMjVkIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.1kJ8pq-8MyrCakSedfzxUL4vE80lIetaBkxUTndWHUc] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 99c27d3e-4d81-4740-801b-5d2b36aee25d
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 99c27d3e-4d81-4740-801b-5d2b36aee25d
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTljMjdkM2UtNGQ4MS00NzQwLTgwMWItNWQyYjM2YWVlMjVkIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.1kJ8pq-8MyrCakSedfzxUL4vE80lIetaBkxUTndWHUc] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 99c27d3e-4d81-4740-801b-5d2b36aee25d
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 99c27d3e-4d81-4740-801b-5d2b36aee25d
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTljMjdkM2UtNGQ4MS00NzQwLTgwMWItNWQyYjM2YWVlMjVkIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.1kJ8pq-8MyrCakSedfzxUL4vE80lIetaBkxUTndWHUc] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 99c27d3e-4d81-4740-801b-5d2b36aee25d
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 99c27d3e-4d81-4740-801b-5d2b36aee25d
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60635
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmIyNDA0NjQtNzFhMS00MTRmLWE1YWItNjBkYzE4MGY2NmI2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.rMPA5nJfrjANZWEDY6L1BVudtCmD4dKEKJ1HNORwtek] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user bb240464-71a1-414f-a5ab-60dc180f66b6
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: bb240464-71a1-414f-a5ab-60dc180f66b6
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60635
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmIyNDA0NjQtNzFhMS00MTRmLWE1YWItNjBkYzE4MGY2NmI2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.rMPA5nJfrjANZWEDY6L1BVudtCmD4dKEKJ1HNORwtek] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user bb240464-71a1-414f-a5ab-60dc180f66b6
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: bb240464-71a1-414f-a5ab-60dc180f66b6
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60635
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmIyNDA0NjQtNzFhMS00MTRmLWE1YWItNjBkYzE4MGY2NmI2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.rMPA5nJfrjANZWEDY6L1BVudtCmD4dKEKJ1HNORwtek] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user bb240464-71a1-414f-a5ab-60dc180f66b6
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: bb240464-71a1-414f-a5ab-60dc180f66b6
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTBiOGRjZjAtMDFlNS00ODU4LWE1NjEtMDk1MDljYmFmNWRjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.6KZ5oST9HBCRcxp1KSYbHBYI2JUr61SIxcJ_IziDfQc] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 90b8dcf0-01e5-4858-a561-09509cbaf5dc
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 90b8dcf0-01e5-4858-a561-09509cbaf5dc
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTBiOGRjZjAtMDFlNS00ODU4LWE1NjEtMDk1MDljYmFmNWRjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.6KZ5oST9HBCRcxp1KSYbHBYI2JUr61SIxcJ_IziDfQc] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 90b8dcf0-01e5-4858-a561-09509cbaf5dc
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 90b8dcf0-01e5-4858-a561-09509cbaf5dc
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOTBiOGRjZjAtMDFlNS00ODU4LWE1NjEtMDk1MDljYmFmNWRjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.6KZ5oST9HBCRcxp1KSYbHBYI2JUr61SIxcJ_IziDfQc] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 90b8dcf0-01e5-4858-a561-09509cbaf5dc
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 90b8dcf0-01e5-4858-a561-09509cbaf5dc
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZTY2NGIyMjAtZDY5NC00ZTc4LTgzY2UtNmY3Yzc0MzUzYmVmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.hyr26hZzlQYbrdUi6EcXZb0rzxsN30-Rk2NTuFnc_LY] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user e664b220-d694-4e78-83ce-6f7c74353bef
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: e664b220-d694-4e78-83ce-6f7c74353bef
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZTY2NGIyMjAtZDY5NC00ZTc4LTgzY2UtNmY3Yzc0MzUzYmVmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.hyr26hZzlQYbrdUi6EcXZb0rzxsN30-Rk2NTuFnc_LY] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user e664b220-d694-4e78-83ce-6f7c74353bef
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: e664b220-d694-4e78-83ce-6f7c74353bef
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZTY2NGIyMjAtZDY5NC00ZTc4LTgzY2UtNmY3Yzc0MzUzYmVmIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.hyr26hZzlQYbrdUi6EcXZb0rzxsN30-Rk2NTuFnc_LY] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user e664b220-d694-4e78-83ce-6f7c74353bef
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: e664b220-d694-4e78-83ce-6f7c74353bef
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiY2YxMTZkNTgtYmQxZi00YmU1LWI1ZGUtZjc2MDgwYzA0YWQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.3hbXuu_klKSDsrSWm_zLw2xdRxZP1mTWpHioRsJLlG0] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user cf116d58-bd1f-4be5-b5de-f76080c04ad5
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: cf116d58-bd1f-4be5-b5de-f76080c04ad5
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiY2YxMTZkNTgtYmQxZi00YmU1LWI1ZGUtZjc2MDgwYzA0YWQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.3hbXuu_klKSDsrSWm_zLw2xdRxZP1mTWpHioRsJLlG0] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user cf116d58-bd1f-4be5-b5de-f76080c04ad5
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: cf116d58-bd1f-4be5-b5de-f76080c04ad5
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiY2YxMTZkNTgtYmQxZi00YmU1LWI1ZGUtZjc2MDgwYzA0YWQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.3hbXuu_klKSDsrSWm_zLw2xdRxZP1mTWpHioRsJLlG0] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user cf116d58-bd1f-4be5-b5de-f76080c04ad5
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: cf116d58-bd1f-4be5-b5de-f76080c04ad5
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNGYzZTRkMTUtYWY4Ni00NmYxLTg2OGEtMDA4MjA4YjQ0YTQ3IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.dzJOd3aGn-V1y7cm7fbRWoJw6yqvK2AiQM1wqcVmxOk] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 4f3e4d15-af86-46f1-868a-008208b44a47
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 4f3e4d15-af86-46f1-868a-008208b44a47
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNGYzZTRkMTUtYWY4Ni00NmYxLTg2OGEtMDA4MjA4YjQ0YTQ3IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.dzJOd3aGn-V1y7cm7fbRWoJw6yqvK2AiQM1wqcVmxOk] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 4f3e4d15-af86-46f1-868a-008208b44a47
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 4f3e4d15-af86-46f1-868a-008208b44a47
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGMyMmU1OTAtNDQzOS00NDEyLThjZWItNzJmNTFlNTBhNGFjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.Jgi463sXx7ebAcog500djj4E-B_nMe5m3W0UDyVWAG4] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 0c22e590-4439-4412-8ceb-72f51e50a4ac
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 0c22e590-4439-4412-8ceb-72f51e50a4ac
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGMyMmU1OTAtNDQzOS00NDEyLThjZWItNzJmNTFlNTBhNGFjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.Jgi463sXx7ebAcog500djj4E-B_nMe5m3W0UDyVWAG4] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 0c22e590-4439-4412-8ceb-72f51e50a4ac
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 0c22e590-4439-4412-8ceb-72f51e50a4ac
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGMyMmU1OTAtNDQzOS00NDEyLThjZWItNzJmNTFlNTBhNGFjIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.Jgi463sXx7ebAcog500djj4E-B_nMe5m3W0UDyVWAG4] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 0c22e590-4439-4412-8ceb-72f51e50a4ac
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 0c22e590-4439-4412-8ceb-72f51e50a4ac
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMWIzODczZjUtM2VmOC00OTA4LTk3M2MtMjk2ZmM4ZmE5NzYyIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.y41mqyPUvSqWCuvtjPurRJ5u8NfqB1jZBg56JDcf47s] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 1b3873f5-3ef8-4908-973c-296fc8fa9762
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 1b3873f5-3ef8-4908-973c-296fc8fa9762
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMWIzODczZjUtM2VmOC00OTA4LTk3M2MtMjk2ZmM4ZmE5NzYyIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.y41mqyPUvSqWCuvtjPurRJ5u8NfqB1jZBg56JDcf47s] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 1b3873f5-3ef8-4908-973c-296fc8fa9762
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 1b3873f5-3ef8-4908-973c-296fc8fa9762
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMWIzODczZjUtM2VmOC00OTA4LTk3M2MtMjk2ZmM4ZmE5NzYyIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.y41mqyPUvSqWCuvtjPurRJ5u8NfqB1jZBg56JDcf47s] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 1b3873f5-3ef8-4908-973c-296fc8fa9762
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 1b3873f5-3ef8-4908-973c-296fc8fa9762
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTgxODg5OTQtODBkZS00MTM5LWI2MjQtMWNmOGU2MTQyNTQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.YpiztsoZhKmh4IIXKq7Ata5b8z8nvSLfE41NIqIpKto] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 18188994-80de-4139-b624-1cf8e6142545
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 18188994-80de-4139-b624-1cf8e6142545
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/worlds from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTgxODg5OTQtODBkZS00MTM5LWI2MjQtMWNmOGU2MTQyNTQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.YpiztsoZhKmh4IIXKq7Ata5b8z8nvSLfE41NIqIpKto] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 18188994-80de-4139-b624-1cf8e6142545
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 18188994-80de-4139-b624-1cf8e6142545
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60637
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTgxODg5OTQtODBkZS00MTM5LWI2MjQtMWNmOGU2MTQyNTQ1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.YpiztsoZhKmh4IIXKq7Ata5b8z8nvSLfE41NIqIpKto] Content-Length:[98] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 18188994-80de-4139-b624-1cf8e6142545
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 18188994-80de-4139-b624-1cf8e6142545
=== RUN   TestMobileSDKIntegrationSuite/TestInvalidCredentialsHandling
[DEBUG] Client: requireAuth is true but token is empty!
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] No token found in cookie, header, or query
=== RUN   TestMobileSDKIntegrationSuite/TestMultipleCharactersInDifferentWorlds
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYTg0YzBhYmYtNzMyZS00ODBkLTgwNjUtOTM4MmQxZGE0NTk2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.knPWsCibev3FTOt_dkbHBJSmndPqyFseKalR2YIm1Kw] Content-Length:[92] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user a84c0abf-732e-480d-8065-9382d1da4596
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: a84c0abf-732e-480d-8065-9382d1da4596
    mobile_integration_test.go:220: Created character 1: Hero-bccc290c in world 7ca92c49-44d0-481f-8254-d0e65a857132
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYTg0YzBhYmYtNzMyZS00ODBkLTgwNjUtOTM4MmQxZGE0NTk2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.knPWsCibev3FTOt_dkbHBJSmndPqyFseKalR2YIm1Kw] Content-Length:[92] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user a84c0abf-732e-480d-8065-9382d1da4596
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: a84c0abf-732e-480d-8065-9382d1da4596
    mobile_integration_test.go:220: Created character 2: Hero-02e2ee20 in world 9483e874-2b30-4aea-b34d-a7c70e54bcca
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYTg0YzBhYmYtNzMyZS00ODBkLTgwNjUtOTM4MmQxZGE0NTk2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.knPWsCibev3FTOt_dkbHBJSmndPqyFseKalR2YIm1Kw] Content-Length:[92] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user a84c0abf-732e-480d-8065-9382d1da4596
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: a84c0abf-732e-480d-8065-9382d1da4596
    mobile_integration_test.go:220: Created character 3: Hero-aab982e3 in world 24d0c5f0-9a25-4f7b-9859-101691eb1654
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYTg0YzBhYmYtNzMyZS00ODBkLTgwNjUtOTM4MmQxZGE0NTk2IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.knPWsCibev3FTOt_dkbHBJSmndPqyFseKalR2YIm1Kw] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user a84c0abf-732e-480d-8065-9382d1da4596
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: a84c0abf-732e-480d-8065-9382d1da4596
=== RUN   TestMobileSDKIntegrationSuite/TestTokenPersistenceAcrossRequests
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOGZlMGY0OWMtMmY2MS00MDliLTg0YWQtMDBiNzQ1OTNhYzIwIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.LQQbeq4D6j-AwElqVqE7sJ2fUORc57fP1-I9hCYl3LY] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 8fe0f49c-2f61-409b-84ad-00b74593ac20
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 8fe0f49c-2f61-409b-84ad-00b74593ac20
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOGZlMGY0OWMtMmY2MS00MDliLTg0YWQtMDBiNzQ1OTNhYzIwIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.LQQbeq4D6j-AwElqVqE7sJ2fUORc57fP1-I9hCYl3LY] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 8fe0f49c-2f61-409b-84ad-00b74593ac20
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 8fe0f49c-2f61-409b-84ad-00b74593ac20
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: GET /api/auth/me from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiOGZlMGY0OWMtMmY2MS00MDliLTg0YWQtMDBiNzQ1OTNhYzIwIiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.LQQbeq4D6j-AwElqVqE7sJ2fUORc57fP1-I9hCYl3LY] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user 8fe0f49c-2f61-409b-84ad-00b74593ac20
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: 8fe0f49c-2f61-409b-84ad-00b74593ac20
=== RUN   TestMobileSDKIntegrationSuite/TestWatcherCharacterCreation
[DEBUG] Client: Set Authorization header: Bearer eyJhbGciOi...
2025/12/07 15:53:31 [AUTH] Request: POST /api/game/characters from 127.0.0.1:60634
2025/12/07 15:53:31 [DEBUG] AuthMiddleware Headers: map[Accept-Encoding:[gzip] Authorization:[Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZDQyMTRlNTktY2UyMi00N2NhLWIxMGUtNjEyZTkwMGNhODU1IiwidXNlcm5hbWUiOiIiLCJyb2xlcyI6bnVsbCwiZXhwIjoxNzY1MjI3MjExLCJpYXQiOjE3NjUxNDA4MTF9.CWJhKCkWOYGeY0V4P1mGuUo2SOCKcrqQfJgnyIQIXto] Content-Length:[86] Content-Type:[application/json] User-Agent:[Go-http-client/1.1]]
2025/12/07 15:53:31 [AUTH] Found Authorization header
2025/12/07 15:53:31 [AUTH] Token validated for user d4214e59-ce22-47ca-b10e-612e900ca855
2025/12/07 15:53:31 [DEBUG] AuthMiddleware: set userID in context: d4214e59-ce22-47ca-b10e-612e900ca855
    mobile_integration_test.go:249: âœ“ Watcher character created successfully
--- FAIL: TestMobileSDKIntegrationSuite (1.35s)
    --- FAIL: TestMobileSDKIntegrationSuite/TestCompleteOnboardingFlow (0.23s)
    --- PASS: TestMobileSDKIntegrationSuite/TestConcurrentClientRequests (0.60s)
    --- PASS: TestMobileSDKIntegrationSuite/TestInvalidCredentialsHandling (0.12s)
    --- PASS: TestMobileSDKIntegrationSuite/TestMultipleCharactersInDifferentWorlds (0.12s)
    --- PASS: TestMobileSDKIntegrationSuite/TestTokenPersistenceAcrossRequests (0.11s)
    --- PASS: TestMobileSDKIntegrationSuite/TestWatcherCharacterCreation (0.10s)
FAIL
FAIL	mud-platform-backend/internal/mobile	1.826s
FAIL
